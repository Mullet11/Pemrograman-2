<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.TransaksiController">

    <top>
        <HBox style="-fx-background-color: linear-gradient(to right, #8B5A2B, #613916);" alignment="CENTER_LEFT" spacing="12">
            <padding><Insets top="12" left="12" right="12" bottom="12"/></padding>

            <Label text="Bakery Mullet â€” Transaksi"
                   style="-fx-text-fill:white; -fx-font-size:18; -fx-font-weight:bold;"/>

            <Region HBox.hgrow="ALWAYS"/>

            <Button text="Dashboard" onAction="#backToDashboard" style="-fx-background-color:#D7B899; -fx-text-fill:#613916;"/>
        </HBox>
    </top>

    <center>
        <VBox spacing="16">
            <padding><Insets top="16" left="16" right="16" bottom="16"/></padding>

            <HBox spacing="16">

                <!-- FORM -->
                <VBox spacing="12" prefWidth="380" style="-fx-background-color:white; -fx-background-radius:8;">
                    <padding><Insets top="12" right="12" bottom="12" left="12"/></padding>

                    <Label text="Form Transaksi" style="-fx-font-weight:bold; -fx-text-fill:#613916;"/>

                    <GridPane hgap="10" vgap="12">
                        <columnConstraints>
                            <ColumnConstraints minWidth="100" halignment="RIGHT"/>
                            <ColumnConstraints minWidth="200"/>
                        </columnConstraints>

                        <Label text="Pelanggan:" GridPane.rowIndex="0"/>
                        <ComboBox fx:id="cbPelanggan" GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                        <Label text="Menu:" GridPane.rowIndex="1"/>
                        <ComboBox fx:id="cbMenu" GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                        <Label text="Qty:" GridPane.rowIndex="2"/>
                        <ComboBox fx:id="cbQty" GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                        <Button text="Tambah" onAction="#tambahItem" 
                                GridPane.rowIndex="3" GridPane.columnIndex="1"
                                style="-fx-background-color:#6D4C41; -fx-text-fill:white; -fx-padding:6 20;"/>
                    </GridPane>
                </VBox>

                <!-- CART TABLE -->
                <VBox spacing="12" VBox.vgrow="ALWAYS" style="-fx-background-color:white; -fx-background-radius:8;">
                    <padding><Insets top="12" right="12" bottom="12" left="12"/></padding>

                    <Label text="Keranjang" style="-fx-font-weight:bold; -fx-text-fill:#613916;"/>

                    <TableView fx:id="table" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colMenu" text="Menu" prefWidth="250"/>
                            <TableColumn fx:id="colQty" text="Qty" prefWidth="120"/>
                            <TableColumn fx:id="colSubtotal" text="Subtotal" prefWidth="150"/>
                        </columns>
                    </TableView>

                    <HBox spacing="12" alignment="CENTER_RIGHT">
                        <Label text="Total:" style="-fx-font-weight:bold; -fx-text-fill:#613916;"/>
                        <Label fx:id="lblGrandTotal" text="Rp 0" style="-fx-font-size:16; -fx-font-weight:bold;"/>
                        <Button fx:id="btnSimpan" text="Simpan Transaksi" onAction="#simpanTransaksi"
                                style="-fx-background-color:#6D4C41; -fx-text-fill:white;" disable="true"/>
                    </HBox>
                </VBox>

            </HBox>
        </VBox>
    </center>

</BorderPane>
